<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>卒論：自己認識実験（BFI-10）</title>
<style>
  body{font-family:system-ui,-apple-system,"Hiragino Kaku Gothic ProN","Yu Gothic",sans-serif;max-width:900px;margin:18px auto;padding:0 12px;}
  h1{font-size:1.2rem}
  .hidden{display:none}
  .question{margin:10px 0;padding:8px;border-radius:6px;background:#fbfbfb;border:1px solid #eee}
  .choices label{display:inline-block;margin-right:8px}
  button{padding:8px 12px;margin-top:10px}
  .card{border:1px solid #ddd;padding:10px;border-radius:6px;background:#fff;margin:6px 0;}
  table{border-collapse:collapse;width:100%}
  td,th{padding:6px;border:1px solid #eee}
</style>
</head>
<body>
<h1>卒論用アンケート（簡易BFI-10）</h1>
<p>この調査は「人の自己認識と理想像の関係」を調べるものです。匿名で行われ、回答はすべて必須です。所要時間は5~7分で、計20問の問いに答えていただきます。</p>

<!-- 書き換えポイント -->
<script>https://script.google.com/macros/s/AKfycbyodUjhLIKXncNkqgJ9mhrgNsT6RfHGCXvhpEIM6JFgxD5nvaT47ZCkr0SI_TzDcTw7Ug/exec
const SCRIPT_URL = ; // ← ここに Apps Script の Web アプリ URL を貼る
</script>

<!-- タイプ定義（短文と長文、ベクトル） -->
<script>
const typeDefs = [
  {id:"T1", name:"挑戦者", short:"未知に飛び込む開拓者。新しいことに挑戦する意欲が強い。", long:`挑戦者は、現状に安住することを好まず、常に新しい可能性を切り開こうとするタイプです。失敗のリスクを恐れるよりも、「やらない後悔」を強く避ける傾向があります。そのため未知の領域に踏み込み、周囲からは無謀に見える挑戦を繰り返すこともあります。しかしその行動力は多くの人を刺激し、新しい価値を創造する原動力となります。起業や革新的な研究開発の現場で力を発揮しやすく、困難な課題に立ち向かうほどにエネルギーが湧く特性があります。一方で地道な作業や長期的な安定には退屈を感じやすく、持続力よりも瞬発力に強みがあるといえます。挑戦者は社会に新風を吹き込む存在であり、他者が恐れて踏み出せない一歩を先んじて踏み込むことで、未来を形づくる存在となります。`, v:{E:6,A:4,C:3,ES:5,O:6}},

  {id:"T2", name:"共感者", short:"人の心に寄り添う共鳴者。共感力が高い。", long:`共感者は、人の感情の変化や微細な表情の揺らぎを敏感に感じ取り、相手の立場に立って考える力に長けています。人が悲しんでいれば一緒に胸を痛め、喜びがあれば心から共に笑えるため、信頼を集めやすい存在です。相談役や仲裁役として自然に人から頼られることが多く、対人関係を円滑にする能力を発揮します。福祉や教育、カウンセリングの分野はもちろん、チーム運営や顧客対応など「人を支える仕事」に強い適性があります。一方で、他人の感情に影響されすぎると自分自身の心が疲弊しやすく、境界線を引くことが課題となります。共感者は社会にとって、冷たくなりがちな場を温め、人間らしいつながりを取り戻す役割を果たします。その存在は安心感を与え、孤立しがちな人に「居場所」を作る力を持っています。`, v:{E:5,A:7,C:4,ES:3,O:4}},

  {id:"T3", name:"分析者", short:"真実を解き明かす思考の探究者。論理的思考に長ける。", long:`分析者は、複雑な事象を冷静に分解し、因果関係を整理して全体像を明らかにする力を持つタイプです。感情よりも論理を優先し、主観を排して物事の本質に迫ろうとします。そのため研究職やデータ解析、法律関連など「正確さ」が要求される場で強みを発揮します。多角的に情報を集め、それを比較検討して最も合理的な結論を導き出す姿勢は、多くの人に安心感を与えます。しかし一方で、感情や直感を軽視しすぎる傾向があり、人間関係において冷たく映ることもあります。分析者は、混沌とした状況の中に秩序をもたらす存在であり、社会における「判断の基準点」となります。その精密な思考は、真実を求める営みを支え、より良い選択を導く重要な役割を果たします。`, v:{E:3,A:3,C:7,ES:6,O:6}},

  {id:"T4", name:"表現者", short:"心を映し出すアーティスト。創造的表現が得意。", long:`表現者は、自らの内面に生じた感情や思想を、芸術的・創造的な形で外に表すことに喜びを感じるタイプです。言葉や音楽、絵画、デザインなど、手段は多様ですが「他者の心に響かせたい」という根源的な衝動を抱えています。独自の視点や感受性を持ち、周囲にはない新鮮な切り口で世界を描き出せるため、人を感動させたり価値観を揺さぶる力があります。一方で、自己表現へのこだわりが強すぎると孤立したり、自己理解が深まるほどに生きづらさを感じる側面もあります。しかし、その「生きづらさ」すら創作の糧に変えられるのが表現者の強みです。彼らは世界に美や感情の深みを加え、人々が忘れかけた感性を呼び覚ます存在です。`, v:{E:4,A:4,C:3,ES:3,O:7}},

  {id:"T5", name:"調整者", short:"場を和ませるバランサー。対立を調停する力がある。", long:`調整者は、異なる意見や立場を持つ人々の間に立ち、対話を通じて折り合いをつけることが得意なタイプです。人間関係において衝突を避け、穏やかな環境を作ろうとする傾向が強く、そのためチームや組織において「潤滑油」のような役割を果たします。相手を尊重しつつ全体の調和を見失わないため、交渉や調整、コミュニティづくりに適性があります。一方で、自己主張が控えめになりすぎて「優柔不断」と見られることもあります。しかし実際には、目に見えないバランスを保ち続けるための高度な配慮と洞察が働いています。調整者は社会において、対立を和らげる存在であり、安心できる場を維持する重要な役割を担っています。`, v:{E:4,A:6,C:5,ES:5,O:4}},

  {id:"T6", name:"実務官", short:"着実に積み上げる堅実家。責任感と計画性が強い。", long:`実務官は、地道さと一貫性を持って物事に取り組むタイプです。大きな野心や派手さを追い求めるよりも、確実に成果を積み上げ、長期的に信頼を築くことを重視します。そのため一度任された役割は最後まで責任を持って遂行し、組織や仲間に安心感を与えます。ルーティンや規則を守ることに抵抗が少なく、秩序を大切にするため、安定した職場や制度的な環境で力を発揮しやすいです。一方で変化に弱く、新しい状況に適応するまでに時間がかかることがあります。また、自分の意見を控えめにしすぎるために「受け身」と見られることもあります。しかし、その確実性と誠実さは、社会に不可欠な基盤を作り出します。安定者は周囲の人が安心して活動できる「土台」となり、信頼によって大きな価値をもたらす存在です。`, v:{E:3,A:5,C:7,ES:6,O:2}},

  {id:"T7", name:"理想家", short:"高みを目指すビジョナリー。未来を描くタイプ。", long:`理想家は、現実をあるがままに受け入れるのではなく、「こうあるべき姿」を強く思い描き、それに向かって努力するタイプです。現状の矛盾や不完全さに敏感で、それを克服するために理想を掲げます。そのため社会運動や教育、芸術、哲学など「理念」を必要とする分野で力を発揮しやすいです。理想家は人々に希望やインスピレーションを与える一方で、現実とのギャップに苦しみやすく、理想に固執しすぎると挫折感を抱くこともあります`, v:{E:5,A:6,C:5,ES:4,O:7}},

  {id:"T8", name:"実行者", short:"即断即決の行動派。行動力が武器。", long:`実行者は、決断力と行動力に優れ、思い立ったらすぐ実行できるタイプです。迷っている時間よりも行動を優先し、周囲に勢いとエネルギーをもたらします。そのため営業や現場リーダー、起業といった即応性が求められる場面で強みを発揮します。直感的な判断を下し、素早く動くことができる一方で、熟考不足から短期的な失敗を経験することもあります。しかしその失敗すら糧にして次へ進めるのが実行者の魅力です。集団の中で率先して動く姿勢は、多くの人に勇気を与えます。実行者は「やるべきことをすぐやる」シンプルな行動哲学を体現し、組織や社会に推進力を与える存在です。`, v:{E:7,A:4,C:4,ES:6,O:5}},

  {id:"T9", name:"探究者", short:"冷静に見極める観察者。慎重で検証的。", long:`探究者は、知識欲が強く、狭い領域を徹底的に掘り下げるタイプです。「なぜ？」という問いを手放さず、既存の答えに満足せずに追究を続けます。そのため学問や研究、専門的な分析の場に強い適性があります。集中力が高く、一つのテーマを長期間追究できるため、他の人が気づかない領域に光を当てることができます。一方で、実用性や社会性よりも知的満足を優先しすぎてしまい、周囲との温度差が生じることもあります。また、人との交流よりも自分の内的な世界に没頭しがちなため、孤立するリスクもあります。しかし探究者は、人類が新しい知識や技術を獲得する上で不可欠な存在です。その好奇心と探究心は、未来を開拓する大きな推進力となります。`, v:{E:3,A:4,C:6,ES:6,O:4}},

  {id:"T10", name:"冒険者", short:"世界を駆ける自由人。束縛を嫌い経験を求める。", long:`冒険者は、束縛を嫌い、自由と経験を追い求めるタイプです。新しい環境や文化を求めて積極的に動き、ルールや枠組みに縛られることを嫌います。そのため旅行や国際的な仕事、フリーランスのような自由度の高い働き方に適性があります。直感や興味に従って行動するため、予測不能で周囲を振り回すこともありますが、その自由な姿勢は人々に刺激と開放感を与えます。一方で、長期的な計画や安定を必要とする場面では困難を感じやすく、責任感を持続させることが課題となります。しかし冒険者の自由な発想と大胆な行動力は、閉塞的な状況を打破し、新しい価値観を社会にもたらします。冒険者は常に「次の可能性」を追いかけ、人々に未知の世界を示す存在です。
`, v:{E:6,A:4,C:2,ES:5,O:7}}
];

// 問題文
const questionTexts = {
  1: "Q1. 私は外向的で、社交的だと思う",
  2: "Q2. 私は他人に対して批判的で、喧嘩腰になることがある",
  3: "Q3. 私は几帳面で、きちんとしていると思う",
  4: "Q4. 私は心配性で、緊張しやすい",
  5: "Q5. 私は新しい経験や新しい考えに対して開放的だと思う",
  6: "Q6. 私は控えめで、静かな方だと思う",
  7: "Q7. 私は人に思いやりがあり、親切だと思う",
  8: "Q8. 私はだらしなく、いいかげんなことがある",
  9: "Q9. 私は感情が安定していて、動揺しにくいと思う",
  10:"Q10. 私は創造的で、新しいアイデアを出すのが得意だと思う"
};

// ユーティリティ
function randSessionId(){ const a = crypto.getRandomValues(new Uint32Array(2)); return ('s'+a[0].toString(36)+a[1].toString(36)); }
function round2(n){ return Math.round(n*100)/100; }
function rev(x){ return 8 - x; } // 7段階逆転

// sessionId 管理（localStorage）
let sessionId = localStorage.getItem("bfi_sessionId");
if (!sessionId){ sessionId = randSessionId(); localStorage.setItem("bfi_sessionId", sessionId); }

// DOM 参照
function $(id){ return document.getElementById(id); }
const pageType = $("page-type"), // not used but kept
      idealList = document.createElement("div");

// ページ要素を作る（静的HTMLに埋め込むより JS で作る方が整う）
</script>

<!-- Page: 理想タイプ選択 -->
<div id="page-ideal" class="card">
  <h2>ステップ1：理想タイプを選んでください</h2>
  <div id="ideal-container"></div>
  <div style="margin-top:8px">
    <button id="btn-to-test1">第1回テストへ</button>
  </div>
</div>

<!-- Page: 第1回テスト -->
<div id="page-test1" class="hidden card">
  <h2>第1回：BFI-10（1 = 全く当てはまらない ～ 7 = 非常に当てはまる）</h2>
  <form id="form1">
    <div id="questions1"></div>
    <button type="submit">回答して結果を見る（第1回）</button>
  </form>
</div>

<!-- Page: 第1回結果（数値＋長文） -->
<div id="page-result1" class="hidden card">
  <h2>第1回の結果</h2>
  <div id="result1-area"></div>
  <div style="margin-top:8px">
    <p>この診断結果はあなたに当てはまると思いますか？（はい / いいえ）</p>
    <label><input type="radio" name="selfCheck" value="はい"> はい</label>
    <label><input type="radio" name="selfCheck" value="いいえ"> いいえ</label>
    <div style="margin-top:10px">
      <button id="btn-save-step1">次へ（第2回へ）</button>
    </div>
  </div>
</div>

<!-- Page: 第2回テスト -->
<div id="page-test2" class="hidden card">
  <h2>第2回：もう一度同じ10問に答えてください</h2>
  <form id="form2">
    <div id="questions2"></div>
    <button type="submit">回答して結果を見る（第2回）</button>
  </form>
</div>

<!-- Page: 第2回結果 -->
<div id="page-result2" class="hidden card">
  <h2>第2回の結果</h2>
  <div id="result2-area"></div>
  <div style="margin-top:10px">
    <button id="btn-to-summary">結果のまとめへ</button>
  </div>
</div>

<!-- Page: まとめと比較 -->
<div id="page-summary" class="hidden card">
  <h2>結果のまとめ</h2>
  <div id="summary-area"></div>
  <div style="margin-top:10px">
    <p>どちらの結果の方が自分に近いと思いましたか？（必須）</p>
    <label><input type="radio" name="comparison" value="1回目" required> 1回目</label><br>
    <label><input type="radio" name="comparison" value="2回目" required> 2回目</label><br>
    <label><input type="radio" name="comparison" value="同じ" required> どちらも同じくらい</label><br>
    <label><input type="radio" name="comparison" value="どちらも違う" required> どちらも自分には当てはまらない</label><br>
    <div style="margin-top:10px"><button id="btn-submit-final">送信して終了</button></div>
  </div>
</div>

<!-- Page: 終了 -->
<div id="page-end" class="hidden card">
  <h2>ご協力ありがとうございました</h2>
  <p>この調査データは研究目的以外には使用しません。</p>
</div>

<script>
/* ====== UI描画関数 ====== */
function renderIdealList(){
  const container = $("ideal-container");
  container.innerHTML = "";
  typeDefs.forEach(t=>{
    const d = document.createElement("div");
    d.className = "card";
    d.innerHTML = `<strong>${t.name}</strong><div style="margin:6px 0">${t.short}</div>
      <label><input type="radio" name="idealType" value="${t.id}" required> このタイプが理想</label>`;
    container.appendChild(d);
  });
}

function renderQuestions(containerId, prefix){
  const container = $(containerId);
  container.innerHTML = "";
  for (let i=1;i<=10;i++){
    const qdiv = document.createElement("div");
    qdiv.className = "question";
    qdiv.innerHTML = `<div><strong>${questionTexts[i]}</strong></div><div id="${prefix}choices${i}"></div>`;
    const choicesDiv = qdiv.querySelector(`#${prefix}choices${i}`);
    const labels = ["全く当てはまらない","","","どちらともいえない","","","非常に当てはまる"];
    for (let v=1; v<=7; v++){
      const lab = document.createElement("label");
      lab.style.marginRight = "8px";
      lab.innerHTML = `<input name="Q${i}" type="radio" value="${v}"> ${v}${labels[v-1] ? ' — '+labels[v-1] : ''}`;
      choicesDiv.appendChild(lab);
    }
    container.appendChild(qdiv);
  }
}

function calcScoresFromAnswers(ans){
  function val(k){ return Number(ans[k] || 0); }
  const e = ( val("Q1") + rev(val("Q6")) ) / 2;
  const a = ( rev(val("Q2")) + val("Q7") ) / 2;
  const c = ( val("Q3") + rev(val("Q8")) ) / 2;
  const es = ( val("Q9") + rev(val("Q4")) ) / 2;
  const o = ( val("Q5") + val("Q10") ) / 2;
  return { extraversion: round2(e), agreeableness: round2(a), conscientiousness: round2(c), emotional_stability: round2(es), openness: round2(o) };
}

function mapScoresToType(scores){
  let best = null, bestDist = Infinity;
  for (const t of typeDefs){
    const d = Math.sqrt(
      Math.pow(scores.extraversion - t.v.E, 2) +
      Math.pow(scores.agreeableness - t.v.A, 2) +
      Math.pow(scores.conscientiousness - t.v.C, 2) +
      Math.pow(scores.emotional_stability - t.v.ES, 2) +
      Math.pow(scores.openness - t.v.O, 2)
    );
    if (d < bestDist){ bestDist = d; best = t; }
  }
  return best;
}

async function postToServer(obj){
  if (!SCRIPT_URL || SCRIPT_URL.indexOf("PASTE_YOUR") !== -1) {
    console.warn("Apps Script URL を設定してください。送信はスキップされます。");
    return;
  }
  const params = new URLSearchParams();
  for (const k in obj) {
    if (obj[k] === undefined || obj[k] === null) continue;
    params.append(k, String(obj[k]));
  }
  try {
    const res = await fetch(SCRIPT_URL, {
      method: "POST",
      headers: {"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},
      body: params.toString()
    });
    const j = await res.json().catch(()=>{return {}});
    return j;
  } catch (err) {
    console.error("送信エラー:", err);
    return {status:"error",message:err.toString()};
  }
}

/* ====== イベント設定 ====== */
renderIdealList();
renderQuestions("questions1","");
renderQuestions("questions2","2_");

$("btn-to-test1").addEventListener("click", ()=>{
  const sel = document.querySelector('input[name="idealType"]:checked');
  if (!sel){ alert("理想タイプを選んでください。"); return; }
  document.getElementById("page-ideal").classList.add("hidden");
  document.getElementById("page-test1").classList.remove("hidden");
});

// 第1回フォーム送信（結果をページ内で表示し、自己チェックを待つ）
document.getElementById("form1").addEventListener("submit", function(ev){
  ev.preventDefault();
  const fd = new FormData(document.getElementById("form1"));
  const ans = {};
  for (let i=1;i<=10;i++){
    const v = fd.get("Q"+i);
    if (!v){ alert("全ての質問に回答してください（第1回）。"); return; }
    ans["Q"+i] = v;
  }
  const scores = calcScoresFromAnswers(ans);
  const type = mapScoresToType(scores);
  // 表示
  $("result1-area").innerHTML = `
    <h3>数値スコア（第1回）</h3>
    <table><tr><th>因子</th><th>スコア</th></tr>
    <tr><td>外向性</td><td>${scores.extraversion}</td></tr>
    <tr><td>協調性</td><td>${scores.agreeableness}</td></tr>
    <tr><td>誠実性</td><td>${scores.conscientiousness}</td></tr>
    <tr><td>情緒安定性</td><td>${scores.emotional_stability}</td></tr>
    <tr><td>開放性</td><td>${scores.openness}</td></tr>
    </table>
    <div class="card"><h4>${type.name}</h4><div>${type.long}</div></div>
  `;
  // 一時保存（後でまとめ表示）
  localStorage.setItem("bfi_step1", JSON.stringify({answers: ans, scores: scores, typeId: type.id, typeName: type.name, chosenIdealType: document.querySelector('input[name=\"idealType\"]:checked').value}));
  // 表示切替
  document.getElementById("page-test1").classList.add("hidden");
  document.getElementById("page-result1").classList.remove("hidden");
});

// 「次へ（第2回）」：自己チェック（はい/いいえ）を取得してサーバに step=1 送信
document.getElementById("btn-save-step1").addEventListener("click", async ()=>{
  const self = document.querySelector('input[name="selfCheck"]:checked');
  if (!self){ alert("「はい/いいえ」に答えてください。"); return; }
  const s1 = JSON.parse(localStorage.getItem("bfi_step1") || "{}");
  if (!s1 || !s1.scores){ alert("第1回のデータが見つかりません。最初からやり直してください。"); return; }

  // サーバ送信 step=1
  await postToServer({
    step: "1",
    sessionId: sessionId,
    chosenIdealType: s1.chosenIdealType || "",
    extraversion: s1.scores.extraversion,
    agreeableness: s1.scores.agreeableness,
    conscientiousness: s1.scores.conscientiousness,
    emotional_stability: s1.scores.emotional_stability,
    openness: s1.scores.openness,
    typeName: s1.typeName,
    selfCheck: self.value
  });

  // 次ページへ
  document.getElementById("page-result1").classList.add("hidden");
  document.getElementById("page-test2").classList.remove("hidden");
});

// 第2回フォーム送信
document.getElementById("form2").addEventListener("submit", async function(ev){
  ev.preventDefault();
  const fd = new FormData(document.getElementById("form2"));
  const ans = {};
  for (let i=1;i<=10;i++){
    const v = fd.get("Q"+i);
    if (!v){ alert("全ての質問に回答してください（第2回）。"); return; }
    ans["Q"+i] = v;
  }
  const scores = calcScoresFromAnswers(ans);
  const type = mapScoresToType(scores);
  // 表示
  $("result2-area").innerHTML = `
    <h3>数値スコア（第2回）</h3>
    <table><tr><th>因子</th><th>スコア</th></tr>
    <tr><td>外向性</td><td>${scores.extraversion}</td></tr>
    <tr><td>協調性</td><td>${scores.agreeableness}</td></tr>
    <tr><td>誠実性</td><td>${scores.conscientiousness}</td></tr>
    <tr><td>情緒安定性</td><td>${scores.emotional_stability}</td></tr>
    <tr><td>開放性</td><td>${scores.openness}</td></tr>
    </table>
    <div class="card"><h4>${type.name}</h4><div>${type.long}</div></div>
  `;

  // 保存 step2 へ（local）
  localStorage.setItem("bfi_step2", JSON.stringify({answers: ans, scores: scores, typeId: type.id, typeName: type.name}));

  // サーバへ step=2 送信（非同期）
  const s1 = JSON.parse(localStorage.getItem("bfi_step1") || "{}");
  await postToServer({
    step: "2",
    sessionId: sessionId,
    chosenIdealType: s1.chosenIdealType || "",
    extraversion: scores.extraversion,
    agreeableness: scores.agreeableness,
    conscientiousness: scores.conscientiousness,
    emotional_stability: scores.emotional_stability,
    openness: scores.openness,
    typeName: type.name
  });

  // 表示切替
  document.getElementById("page-test2").classList.add("hidden");
  document.getElementById("page-result2").classList.remove("hidden");
});

// 「結果のまとめへ」
document.getElementById("btn-to-summary").addEventListener("click", ()=>{
  // render summary
  const s1 = JSON.parse(localStorage.getItem("bfi_step1") || "{}");
  const s2 = JSON.parse(localStorage.getItem("bfi_step2") || "{}");
  if (!s1 || !s2){ alert("データが不足しています。"); return; }
  const t1 = typeDefs.find(t=>t.id===s1.typeId);
  const t2 = typeDefs.find(t=>t.id===s2.typeId);
  $("summary-area").innerHTML = `
    <div class="card"><h3>あなたが選んだ理想タイプ： ${ (typeDefs.find(t=>t.id===s1.chosenIdealType) || {}).name || "—" }</h3></div>
    <div style="display:flex;gap:10px;flex-wrap:wrap">
      <div class="card" style="flex:1"><h4>第1回： ${s1.typeName}</h4>${makeScoreTable(s1.scores)}<div style="margin-top:6px;"><em>${t1 ? t1.short : ""}</em></div></div>
      <div class="card" style="flex:1"><h4>第2回： ${s2.typeName}</h4>${makeScoreTable(s2.scores)}<div style="margin-top:6px;"><em>${t2 ? t2.short : ""}</em></div></div>
    </div>
  `;
  document.getElementById("page-result2").classList.add("hidden");
  document.getElementById("page-summary").classList.remove("hidden");
});

// 最終送信（比較回答を step=3 として送信）
document.getElementById("btn-submit-final").addEventListener("click", async ()=>{
  const comp = document.querySelector('input[name="comparison"]:checked');
  if (!comp){ alert("比較の質問に答えてください。"); return; }
  await postToServer({
    step: "3",
    sessionId: sessionId,
    comparisonChoice: comp.value
  });
  document.getElementById("page-summary").classList.add("hidden");
  document.getElementById("page-end").classList.remove("hidden");
});

/* ====== 補助関数 ====== */
function makeScoreTable(scores){
  return `<table><tr><th>因子</th><th>スコア</th></tr>
    <tr><td>外向性</td><td>${scores.extraversion}</td></tr>
    <tr><td>協調性</td><td>${scores.agreeableness}</td></tr>
    <tr><td>誠実性</td><td>${scores.conscientiousness}</td></tr>
    <tr><td>情緒安定性</td><td>${scores.emotional_stability}</td></tr>
    <tr><td>開放性</td><td>${scores.openness}</td></tr>
  </table>`;
}
</script>
</body>
</html>
